<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Insurance Flow - Interactive Card View</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            font-weight: 800;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .content {
            padding: 60px 40px;
        }

        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .step-wrapper {
            display: flex;
            align-items: center;
            gap: 30px;
            position: relative;
        }

        .step-card {
            flex: 1;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
        }

        .step-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--color-start), var(--color-end));
            transition: height 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            border-color: var(--color-start);
        }

        .step-card:hover::before {
            height: 100%;
            opacity: 0.1;
        }

        .step-card.expanded {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .step-number {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-start), var(--color-end));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            font-weight: 800;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
            flex-shrink: 0;
        }

        .step-info {
            flex: 1;
        }

        .step-title {
            font-size: 2em;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 5px;
        }

        .step-subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .step-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .step-card.expanded .step-details {
            max-height: 1000px;
        }

        .detail-section {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 2px solid #f0f0f0;
        }

        .detail-label {
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #999;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .api-endpoint {
            background: #2d3748;
            color: #68d391;
            padding: 15px 20px;
            border-radius: 12px;
            font-family: 'Monaco', monospace;
            font-size: 0.95em;
            margin-bottom: 15px;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.3);
        }

        .method-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.8em;
            margin-right: 10px;
        }

        .method-post { background: #48bb78; color: white; }
        .method-get { background: #4299e1; color: white; }
        .method-put { background: #ed8936; color: white; }
        .method-delete { background: #f56565; color: white; }

        .field-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .field-item {
            background: #f7fafc;
            padding: 12px 16px;
            border-radius: 10px;
            border-left: 4px solid var(--color-start);
        }

        .field-name {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 4px;
        }

        .field-type {
            font-size: 0.85em;
            color: #718096;
        }

        .arrow-connector {
            width: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: #cbd5e0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--color-start), var(--color-end));
            color: white;
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .stat-value {
            font-size: 3em;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.95;
        }

        /* Color schemes for each step */
        .step-1 { --color-start: #667eea; --color-end: #764ba2; }
        .step-2 { --color-start: #f093fb; --color-end: #f5576c; }
        .step-3 { --color-start: #4facfe; --color-end: #00f2fe; }
        .step-4 { --color-start: #43e97b; --color-end: #38f9d7; }
        .step-5 { --color-start: #fa709a; --color-end: #fee140; }

        .toggle-hint {
            text-align: center;
            color: #cbd5e0;
            font-size: 0.9em;
            margin-top: 10px;
            font-style: italic;
        }

        footer {
            background: #f7fafc;
            padding: 30px;
            text-align: center;
            color: #718096;
            border-top: 1px solid #e2e8f0;
        }

        @media (max-width: 768px) {
            .arrow-connector {
                transform: rotate(90deg);
                height: 40px;
            }

            header h1 {
                font-size: 2em;
            }

            .step-title {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöó Auto Insurance API Flow</h1>
            <p>Interactive Step-by-Step Workflow with Modern Visual Design</p>
        </header>

        <div class="content">
            <!-- Stats Overview -->
            <div class="stats-grid">
                <div class="stat-card step-1">
                    <div class="stat-value">5</div>
                    <div class="stat-label">API Steps</div>
                </div>
                <div class="stat-card step-2">
                    <div class="stat-value">15</div>
                    <div class="stat-label">Endpoints</div>
                </div>
                <div class="stat-card step-3">
                    <div class="stat-value">&lt;2s</div>
                    <div class="stat-label">Avg Response</div>
                </div>
                <div class="stat-card step-4">
                    <div class="stat-value">REST</div>
                    <div class="stat-label">API Type</div>
                </div>
            </div>

            <h2 style="font-size: 2em; margin-bottom: 20px; color: #1e3c72; text-align: center;">Click any step to expand details</h2>

            <div class="flow-container">
                <!-- Step 1: Add Drivers -->
                <div class="step-wrapper">
                    <div class="step-card step-1" onclick="toggleStep(this)">
                        <div class="step-header">
                            <div class="step-number">1</div>
                            <div class="step-info">
                                <div class="step-title">üë§ Add Drivers</div>
                                <div class="step-subtitle">Register all drivers on the policy</div>
                            </div>
                        </div>

                        <div class="step-details">
                            <div class="detail-section">
                                <div class="detail-label">API Endpoint</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-post">POST</span>
                                    /api/v1/insurance/drivers
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Required Fields</div>
                                <div class="field-list">
                                    <div class="field-item">
                                        <div class="field-name">firstName</div>
                                        <div class="field-type">string (required)</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">lastName</div>
                                        <div class="field-type">string (required)</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">dateOfBirth</div>
                                        <div class="field-type">date (required)</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">licenseNumber</div>
                                        <div class="field-type">string (required)</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">isPrimary</div>
                                        <div class="field-type">boolean (required)</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">violations</div>
                                        <div class="field-type">array (optional)</div>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Additional Operations</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-get">GET</span>
                                    /api/v1/insurance/drivers
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-put">PUT</span>
                                    /api/v1/insurance/drivers/{id}
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-delete">DELETE</span>
                                    /api/v1/insurance/drivers/{id}
                                </div>
                            </div>
                        </div>

                        <div class="toggle-hint">Click to expand/collapse</div>
                    </div>
                </div>

                <div class="arrow-connector">‚Üì</div>

                <!-- Step 2: Add Vehicles -->
                <div class="step-wrapper">
                    <div class="step-card step-2" onclick="toggleStep(this)">
                        <div class="step-header">
                            <div class="step-number">2</div>
                            <div class="step-info">
                                <div class="step-title">üöô Add Vehicles</div>
                                <div class="step-subtitle">Register vehicles with VIN auto-decode</div>
                            </div>
                        </div>

                        <div class="step-details">
                            <div class="detail-section">
                                <div class="detail-label">API Endpoint</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-post">POST</span>
                                    /api/v1/insurance/vehicles
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Key Features</div>
                                <div class="field-list">
                                    <div class="field-item">
                                        <div class="field-name">VIN Decode</div>
                                        <div class="field-type">Automatic year/make/model</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">ownership</div>
                                        <div class="field-type">owned | financed | leased</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">primaryUse</div>
                                        <div class="field-type">commute | business | pleasure</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">annualMileage</div>
                                        <div class="field-type">number (required)</div>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Additional Operations</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-get">GET</span>
                                    /api/v1/insurance/vehicles
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-put">PUT</span>
                                    /api/v1/insurance/vehicles/{id}
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-delete">DELETE</span>
                                    /api/v1/insurance/vehicles/{id}
                                </div>
                            </div>
                        </div>

                        <div class="toggle-hint">Click to expand/collapse</div>
                    </div>
                </div>

                <div class="arrow-connector">‚Üì</div>

                <!-- Step 3: Get Quotes -->
                <div class="step-wrapper">
                    <div class="step-card step-3" onclick="toggleStep(this)">
                        <div class="step-header">
                            <div class="step-number">3</div>
                            <div class="step-info">
                                <div class="step-title">üí∞ Get Quotes</div>
                                <div class="step-subtitle">Compare multiple carrier quotes instantly</div>
                            </div>
                        </div>

                        <div class="step-details">
                            <div class="detail-section">
                                <div class="detail-label">API Endpoint</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-post">POST</span>
                                    /api/v1/insurance/quotes
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Request Parameters</div>
                                <div class="field-list">
                                    <div class="field-item">
                                        <div class="field-name">driverIds</div>
                                        <div class="field-type">array of driver IDs</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">vehicleIds</div>
                                        <div class="field-type">array of vehicle IDs</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">coverageType</div>
                                        <div class="field-type">liability | standard | full</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">deductible</div>
                                        <div class="field-type">$250 | $500 | $1000</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">bodilyInjury</div>
                                        <div class="field-type">50/100 | 100/300 | 250/500</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">effectiveDate</div>
                                        <div class="field-type">date (future)</div>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Response</div>
                                <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin-top: 10px;">
                                    <strong style="color: #1e3c72;">Returns quotes from multiple carriers:</strong>
                                    <ul style="margin-top: 10px; padding-left: 20px; color: #4a5568;">
                                        <li>Progressive, GEICO, State Farm</li>
                                        <li>Monthly & 6-month premiums</li>
                                        <li>Best quote recommendation</li>
                                        <li>Valid for 7 days</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="toggle-hint">Click to expand/collapse</div>
                    </div>
                </div>

                <div class="arrow-connector">‚Üì</div>

                <!-- Step 4: Purchase Policy -->
                <div class="step-wrapper">
                    <div class="step-card step-4" onclick="toggleStep(this)">
                        <div class="step-header">
                            <div class="step-number">4</div>
                            <div class="step-info">
                                <div class="step-title">üìù Purchase Policy</div>
                                <div class="step-subtitle">Complete purchase with auto-pay setup</div>
                            </div>
                        </div>

                        <div class="step-details">
                            <div class="detail-section">
                                <div class="detail-label">API Endpoint</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-post">POST</span>
                                    /api/v1/insurance/policies
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Purchase Details</div>
                                <div class="field-list">
                                    <div class="field-item">
                                        <div class="field-name">quoteId</div>
                                        <div class="field-type">string (from step 3)</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">carrier</div>
                                        <div class="field-type">selected carrier name</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">paymentMethodId</div>
                                        <div class="field-type">Stripe payment method</div>
                                    </div>
                                    <div class="field-item">
                                        <div class="field-name">autoPayEnabled</div>
                                        <div class="field-type">boolean (default: true)</div>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">What You Get</div>
                                <div style="background: linear-gradient(135deg, rgba(67, 233, 123, 0.1), rgba(56, 249, 215, 0.1)); padding: 20px; border-radius: 10px; margin-top: 10px; border-left: 4px solid #43e97b;">
                                    <ul style="padding-left: 20px; color: #2d3748;">
                                        <li><strong>Policy Number</strong> - Carrier-specific ID</li>
                                        <li><strong>Digital ID Card URL</strong> - Instant access</li>
                                        <li><strong>Status: Active</strong> - Immediately effective</li>
                                        <li><strong>Auto-pay Setup</strong> - Monthly billing via Stripe</li>
                                        <li><strong>Coverage Details</strong> - Full breakdown</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="toggle-hint">Click to expand/collapse</div>
                    </div>
                </div>

                <div class="arrow-connector">‚Üì</div>

                <!-- Step 5: Manage Policy -->
                <div class="step-wrapper">
                    <div class="step-card step-5" onclick="toggleStep(this)">
                        <div class="step-header">
                            <div class="step-number">5</div>
                            <div class="step-info">
                                <div class="step-title">‚öôÔ∏è Manage Policy</div>
                                <div class="step-subtitle">View, update, or cancel policy</div>
                            </div>
                        </div>

                        <div class="step-details">
                            <div class="detail-section">
                                <div class="detail-label">Available Operations</div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-get">GET</span>
                                    /api/v1/insurance/policies
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-get">GET</span>
                                    /api/v1/insurance/policies/{id}
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-put">PUT</span>
                                    /api/v1/insurance/policies/{id}/autopay
                                </div>
                                <div class="api-endpoint">
                                    <span class="method-badge method-post">POST</span>
                                    /api/v1/insurance/policies/{id}/cancel
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Policy Status States</div>
                                <div class="field-list">
                                    <div class="field-item" style="border-left-color: #fbbf24;">
                                        <div class="field-name">pending</div>
                                        <div class="field-type">Payment processing</div>
                                    </div>
                                    <div class="field-item" style="border-left-color: #10b981;">
                                        <div class="field-name">active</div>
                                        <div class="field-type">Coverage in effect</div>
                                    </div>
                                    <div class="field-item" style="border-left-color: #6b7280;">
                                        <div class="field-name">expired</div>
                                        <div class="field-type">Policy term ended</div>
                                    </div>
                                    <div class="field-item" style="border-left-color: #ef4444;">
                                        <div class="field-name">cancelled</div>
                                        <div class="field-type">User cancelled</div>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">Included Documents</div>
                                <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin-top: 10px;">
                                    <ul style="padding-left: 20px; color: #4a5568;">
                                        <li><strong>ID Card PDF</strong> - Digital proof of insurance</li>
                                        <li><strong>Declarations Page</strong> - Full coverage details</li>
                                        <li><strong>Payment History</strong> - All transactions</li>
                                        <li><strong>Driver/Vehicle Info</strong> - Complete records</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="toggle-hint">Click to expand/collapse</div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>Modern Insurance API Workflow</strong></p>
            <p>Interactive visualization demonstrating progressive disclosure UX pattern</p>
            <p style="margin-top: 15px; font-size: 0.9em;">Click any step card to reveal detailed API information</p>
        </footer>
    </div>

    <script>
        function toggleStep(card) {
            card.classList.toggle('expanded');
        }

        // Auto-expand first card on load
        document.addEventListener('DOMContentLoaded', function() {
            const firstCard = document.querySelector('.step-card');
            setTimeout(() => {
                firstCard.classList.add('expanded');
            }, 500);
        });
    </script>
</body>
</html>
